%INCLUDE PSBF01G.J86
%INCLUDE PSBF20G.J86
%INCLUDE IRFDEC.J86 
%INCLUDE IDFDEC.J86
 



%INCLUDE PSBF01E.J86                                                   !HSMG
%INCLUDE IRFEXT.J86                                                    !BMJK                                                   
%INCLUDE PSBF20E.J86
%INCLUDE IDFEXT.J86 



ON ERROR GOTO ERROR.DETECTED

	GOSUB INITIALIZATION
	GOSUB MAIN.PROGRAM
	GOSUB TERMINATION

STOP

INITIALIZATION:

	BLOCK.FILE$ = "C:/DATETIME.TXT"
 

RETURN

CALL.F20.SESS.NUM.UTILITY: 
        
         FILE.OPERATION$ = FUNCTION.FLAG$
         CURRENT.REPORT.NUM% = PASSED.INTEGER%
         RC% = SESS.NUM.UTILITY (FUNCTION.FLAG$, PASSED.INTEGER%,       \
                                 PASSED.STRING$)
         IF RC% <> 0 THEN GOTO ERROR.DETECTED

RETURN



MAIN.PROGRAM:

	VALUE$ = DATE$
	
	PRINT(VALUE$)
      
	  

 

NO.FILE:

    EOF1 = TRUE
	
	EOF = TRUE

	GOTO TERMINATION

RETURN


TERMINATION:

    FUNCTION.FLAG$ EQ "C"
	PASSED.INTEGER% EQ IRF.REPORT.NUM% 
    PASSED.STRING$ EQ IRF.FILE.NAME$
    GOSUB CALL.F20.SESS.NUM.UTILITY
    IRF.SESS.NUM% EQ F20.INTEGER.FILE.NO%
	
	FUNCTION.FLAG$ EQ "C"
	PASSED.INTEGER% EQ IDF.REPORT.NUM% 
    PASSED.STRING$ EQ IDF.FILE.NAME$
    GOSUB CALL.F20.SESS.NUM.UTILITY
    UODOT.SESS.NUM% EQ F20.INTEGER.FILE.NO%

	CLOSE IDF.SESS.NUM%

	CLOSE IRF.SESS.NUM%

RETURN



ERROR.DETECTED:

PRINT   "An Error Occurred "   + ERR   + STR$(ERRF%)   + STR$(ERRL)

END



